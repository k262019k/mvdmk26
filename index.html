<!DOCTYPE html>
<html lang="es">
<head>
    <!-- [Mantén todos los estilos anteriores] -->
    <!-- ... -->
</head>
<body>
    <!-- [Mantén toda la estructura HTML anterior] -->
    <!-- ... -->

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Configuración de Firebase (USAR TUS DATOS)
            const firebaseConfig = {
                apiKey: "AIzaSyAllAbuIaU8DKctEHq0d6eXm7eoTYRZeyc",
                authDomain: "mvdmk26.firebaseapp.com",
                databaseURL: "https://mvdmk26-default-rtdb.firebaseio.com",
                projectId: "mvdmk26",
                storageBucket: "mvdmk26.firebasestorage.app",
                messagingSenderId: "69688434926",
                appId: "1:69688434926:web:a43e2544f2e8dc2b8513ff"
            };

            // Inicializa Firebase
            firebase.initializeApp(firebaseConfig);
            const db = firebase.database();
            const productosRef = db.ref('productos');
            
            // Cargar productos activos al iniciar
            productosRef.orderByChild('activo').equalTo(true).on('value', (snapshot) => {
                const productos = snapshot.val() || {};
                const productNameSelect = document.getElementById('product-name');
                
                // Limpiar y mantener solo la opción "Otro producto..."
                productNameSelect.innerHTML = `
                    <option value="">-- Seleccione un producto --</option>
                    <option value="other">Otro producto...</option>
                `;
                
                // Agregar productos activos
                Object.entries(productos).forEach(([id, producto]) => {
                    if (producto.activo) {
                        const option = document.createElement('option');
                        option.value = producto.nombre;
                        option.textContent = producto.nombre;
                        option.setAttribute('data-precio', producto.precio);
                        productNameSelect.appendChild(option);
                    }
                });
            });

            // Modificación: Auto-completar precio cuando seleccionan producto
            productNameSelect.addEventListener('change', function() {
                if (this.value === 'other') {
                    otherProductContainer.classList.remove('hidden');
                    otherProductName.focus();
                    productPriceInput.value = "";
                    productPriceInput.disabled = false;
                } else {
                    otherProductContainer.classList.add('hidden');
                    const selectedOption = this.options[this.selectedIndex];
                    const precio = selectedOption.getAttribute('data-precio');
                    
                    if (precio) {
                        productPriceInput.value = precio;
                        productPriceInput.disabled = true;
                    } else {
                        productPriceInput.value = "";
                        productPriceInput.disabled = false;
                    }
                }
            });

            // [Resto de tu código JavaScript actual]
            // ...
        });
    </script>
</body>
</html>